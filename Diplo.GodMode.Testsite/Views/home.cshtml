
@using Umbraco.Extensions
@using Umbraco.Cms.Web.Common.PublishedModels;

@inject global::Umbraco.Cms.Core.Services.ITagService tagService;

@inherits Umbraco.Cms.Web.Common.Views.UmbracoViewPage<Home>
@{
    Layout = "master.cshtml";
    var backgroundImage = Model.HeroBackgroundImage != null ? Model.HeroBackgroundImage.Url() : String.Empty;
}

<section class="section section">
    @{
        var tags = tagService.GetAllTags();

        foreach (var tag in tags)
        {
            <h3>@tag.Text <code>(@tag.NodeCount)</code></h3>

            var content = tagService.GetTaggedContentByTag(tag.Text);

            foreach (var e in content)
            {
                var c = Umbraco.Content(e.EntityId);

                <p>@c.ContentType.Alias : @c.Name <code>@c.Id</code></p>
            }
        }
    }
</section>

<section class="section section--full-height background-image-full overlay overlay--dark section--content-center section--thick-border"
         style="background-image: url('@backgroundImage')">
    <div class="section__hero-content">
        <h1>@Model.HeroHeader</h1>
        <p class="section__description">@Model.HeroDescription</p>
        @if (Model.HeroCtalink != null)
        {
            <a class="button button--border--solid" href="@Model.HeroCtalink.Url()">
                @Model.HeroCtacaption
            </a>
        }
    </div>
</section>

<section class="section section">
    @Html.GetGridHtml(Model, "bodyText", "bootstrap3-fluid")
</section>


<section class="section section--themed">

    <div class="container">
        <div class="row">

            <div class="ta-center">
                <h2>@Model.FooterHeader</h2>
                <p class="section__description mw-640 ma-h-auto">@Model.FooterDescription</p>

                <a class="button button--border--light_solid" href="@Model.FooterCtalink.Url()">
                    @Model.FooterCtacaption
                </a>

            </div>

        </div>
    </div>

</section>